.portlet.box(data-ng-class   = "{'green sub-portlet':newTemplateForm.$valid, 'grey':newTemplateForm.$invalid}"
             style           = "display:none;"
             data-ng-show    = "viewModel.showAddNewTemplate"
             data-ng-animate = "{show: 'slideDown', hide: 'slideUp'}")
  .portlet-title
    h4
      span New Template
  .portlet-body.light-grey
    form.form-horizontal(novalidate
                         name  = "newTemplateForm"
                         style = "margin:0;")
      .control-group(data-ng-class = "{success:newTemplateForm.name.$valid, error:!newTemplateForm.name.$valid, 'ng-pristine':newTemplateForm.name.$pristine}")
        label.control-label Name
        .controls.input-icon
          input.large.m-wrap(type              = "text"
                             name              = "name"
                             data-ng-model     = "viewModel.newTemplateForm.name"
                             data-ng-minlength = "{{clientOrmShare.template.model.name.validate.len[0]}}"
                             data-ng-maxlength = "{{clientOrmShare.template.model.name.validate.len[1]}}"
                             data-unique-field = "{\"resource\": \"template\", \"property\": \"name\"}"
                             data-required)
          span.input-success
            i.icon-ok
          span.input-error
            i.icon-exclamation-sign
          .clear
          span.help-inline(data-ng-show = "newTemplateForm.name.$error.minlength")
            | Name must be longer than {{clientOrmShare.template.model.name.validate.len[0]}} characters
          span.help-inline(data-ng-show = "newTemplateForm.name.$error.maxlength")
            | Name must be shorter than {{clientOrmShare.template.model.name.validate.len[1]}} characters
          span.help-inline(data-ng-show = "newTemplateForm.name.$error.uniqueField") A template with the name "{{viewModel.newTemplateForm.name}}" already exists

      //
        .control-group(data-ng-class = "{success:newTemplateForm.type.$valid, error:!newTemplateForm.type.$valid, 'ng-pristine':newTemplateForm.type.$pristine}")
          label.control-label Type
          .controls.input-icon

            select.m-wrap.large(name            = "type"
                                data-ng-model   = "viewModel.newTemplateForm.type"
                                data-ng-options = "type for type in clientOrmShare.template.model.type.values"
                                data-required)
            .clear
            span.help-inline(data-ng-show = "newTemplateForm.name.$error.minlength")
              | Name must be longer than {{clientOrmShare.template.model.name.validate.len[0]}} characters
            span.help-inline(data-ng-show = "newTemplateForm.name.$error.maxlength")
              | Name must be shorter than {{clientOrmShare.template.model.name.validate.len[1]}} characters
            span.help-inline(data-ng-show = "newTemplateForm.name.$error.uniqueField") A template with the name "{{viewModel.newTemplateForm.name}}" already exists

      .row-fluid
        .span6
          .span6
            button.btn.red.btn-block(data-ng-click = "viewModel.clearNewTemplateForm()")
              i.icon-close.m-icon-white
              | Cancel
          .span6
            button.btn.green.btn-block(type             = "submit" 
                                       data-ng-disabled = "newTemplateForm.$invalid"
                                       data-ng-click    = "viewModel.postNewTemplate()")
              | Add
              i.m-icon-swapright.m-icon-white
