<div
  data-animate-in
  class              = "widget-themis-finish portlet box blue"
  data-ng-controller = "ControllerWidgetExerciseBuilder">
  <div class="portlet-title">
    <h4><span>Template Manager</span></h4>
  </div>
  <div class="portlet-body light-grey">
    <div class="row-fluid">

      <!-- Templates list -->
      <div class="span5 responsive span8">
        <div class="portlet box grey">
          <div class="portlet-title">
            <h4><span>Templates</span></h4>
          </div>
          <!-- portlet body -->
          <div class="portlet-body light-grey">


            <button
              style           = "margin-bottom: 5px;"
              data-ng-hide    = "viewModel.showAddNewTemplate"
              data-ng-animate = "{show: 'fadeIn', hide: 'fadeOut'}"
              data-ng-click   = "viewModel.showAddNewTemplate=true;"
              class           = "btn green btn-block">Add Template <i class="m-icon-swapright m-icon-white"></i></button>

            <table
                  class                                  = "table table-striped table-hover table-bordered dataTable"
                  data-data-table                        = "viewModel.templatesListDataTable.options"
                  data-aa-data                           = "viewModel.templates"
                  data-ao-column-defs                    = "viewModel.templatesListDataTable.columnDefs"
                  data-parent-data-table-view-model-prop = "templatesListDataTable"
                  data-fn-row-callback                   = "">
              <thead>
              <tr>
                  <th class = "sorting">Name</th>
                  <th class = "sorting_disabled"></th>
              </tr>
              </thead>
            </table>



          </div><!-- /portlet body -->
        </div>
      </div><!-- /Templates list -->

      <!-- Active Template -->
      <div class="span7">
        <div class="portlet box grey">
          <div class="portlet-title">
            <h4><span>Edit Template</span></h4>
          </div>
          <!-- portlet body -->
          <div class="portlet-body light-grey">



            <div data-ng-hide = "viewModel.routeParams.templateUid">
              <div class="box template-info-box fade in ng-scope">
                <div class="inline-content">
                  <strong><i style="vertical-align:middle; margin-top:0;" class="m-icon-big-swapleft"></i></strong><h3>Select Template Revision</h3>
                </div>
              </div>
            </div>


            <div data-ng-show = "viewModel.currentTemplate && viewModel.currentTemplateRevision">



              <div class="navbar navbar-inverse">

                <div class="navbar-inner" style="border-bottom:1px solid #999;">
                  <div class="container">

                    <div class="nav-collapse collapse navbar-responsive-collapse">

                      <ul class="nav pull-right">
                        <li class="dropdown">
                          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Add Question <b class="caret"></b></a>
                          <ul class="dropdown-menu">
                            <li><a href="#">Open Response</a></li>
                            <li><a href="#">Select Individual</a></li>
                            <li><a href="#">Select Multiple</a></li>
                            <li><a href="#">Yes / No</a></li>
                            <li><a href="#">Percentage Slider</a></li>
                          </ul>
                        </li>
                      </ul>

                    </div><!-- /.nav-collapse -->
                  </div>

                </div>
              </div>


              <div class="box template-info-box fade in">
                <div class="inline-content">
                  <h4><span>{{viewModel.currentTemplate.name}}</span></h4>
                </div>
              </div>


              <div
                data-ng-repeat = "(key, group) in viewModel.currentTemplateRevision.groups | toArray"
                class          = "box template-info-box fade in">


                <div
                  data-ng-init = "nameEditing=false"
                  class="navbar navbar-inverse">

                  <div class="navbar-inner" style="border-bottom:1px solid #999;">
                    <div class="container">

                      <span>
                        <a
                          data-ng-hide  = "nameEditing"
                          data-ng-click = "nameEditing=true"
                          class="brand"
                          href>{{group.name}}</a>

                        <form
                          data-ng-show = "nameEditing"
                          class = "navbar-search"
                          novalidate>
                          <input
                            data-ng-model = "group.name"
                            style       = "width:100%;"
                            type        = "text"
                            class       = "search-query span2"
                            placeholder = "">
                        </form>
                      </span>

                    </div>
                  </div>

                  <div class="navbar-inner">
                    <div class="container">

                      <ul class="nav">
                        <li>
                          <a
                            data-ng-hide  = "nameEditing"
                            data-ng-click = "nameEditing = true"
                            href>Edit</a>
                        </li>
                        <li>
                          <a
                            data-ng-show  = "nameEditing"
                            data-ng-click = "nameEditing = false"
                            href>Save</a>
                        </li>
                        <li>
                          <a href="#">Delete</a>
                        </li>
                      </ul>

                      <div class="nav-collapse collapse navbar-responsive-collapse">

                        <ul class="nav pull-right">
                          <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Add Question <b class="caret"></b></a>
                            <ul class="dropdown-menu">
                              <li><a href="#">Open Response</a></li>
                              <li><a href="#">Select Individual</a></li>
                              <li><a href="#">Select Multiple</a></li>
                              <li><a href="#">Yes / No</a></li>
                              <li><a href="#">Percentage Slider</a></li>
                            </ul>
                          </li>
                        </ul>

                      </div><!-- /.nav-collapse -->
                    </div>
                  </div><!-- /navbar-inner -->
                </div>




              </div><!-- group menu bar -->



              <h2>Groups</h2>
              <ul>
                <li data-ng-repeat="(key, group) in viewModel.currentTemplateRevision.groups | toArray">
                  <p>{{group.name}}</p>
                  <ul>
                    <li data-ng-repeat="(key, field) in group.fields | toArray">

                      <p>{{field.name}}</p>

                    </li>
                  </ul>
                </li>
              </ul>



            </div><!-- /exercise editor -->


          </div><!-- /portlet body -->
        </div>
      </div><!-- /Active Template -->
    </div>
  </div>
</div>



