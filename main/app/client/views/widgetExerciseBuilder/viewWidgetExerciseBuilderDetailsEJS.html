<div>

  <div
    data-ng-hide = "(resourcePool['<%= templateUid %>'].revisions | toArray | filter:{finalized:'false'}).length === 0"
    class        = "portlet box red sub-portlet"
    style        = "margin-bottom:5px;">
    <div class="portlet-title">
      <h4><span><strong>Unsaved</strong> Revisions</span></h4>
    </div>
    <div
      style = "padding:0;"
      class = "portlet-body">
      <table class="table table-striped table-bordered table-advance condensed-data-table">
         <thead>
            <tr>

               <th>Owner</th>
               <th>Date</th>
               <th></th>

            </tr>
         </thead>
         <tbody>

            <tr data-ng-repeat="value in resourcePool['<%= templateUid %>'].revisions | toArray | filter:{finalized:'false'}">

              <td>
                {{resourcePool[value.employeeUid].firstName + ' ' + resourcePool[value.employeeUid].lastName}}
              </td>
              <td>
                {{value.createdAt | toArray | date:'short' }}
              </td>

              <td>
                <div style="text-align:right;" class="inline-content">

                  <a
                    data-ng-class = "{true:'black', false:'green'}[viewModel.routeParams.revisionUid == value.uid]"
                    href          = "#{{viewRoot}}/{{value.templateUid}}/{{value.uid}}"
                    class         = "btn mini">

                    <span data-ng-show = "value.finalized">View</span>
                    <span data-ng-show = "!value.finalized">Edit</span>
                    &nbsp;
                    <i
                      data-ng-hide = "viewModel.routeParams.revisionUid == value.uid"
                      style        = "width:11px;"
                      class        = "halflings-icon white chevron-left"></i>
                    <i
                      data-ng-show = "viewModel.routeParams.revisionUid == value.uid"
                      style        = "width:11px;"
                      class        = "halflings-icon white chevron-right"></i>

                  </a>
                </div>
              </td>

            </tr>

         </tbody>
      </table>
    </div>
  </div>





  <div
    data-ng-hide = "(resourcePool['<%= templateUid %>'].revisions | toArray | filter:{finalized:'false'}).length > 0"
    class        = "portlet box blue sub-portlet"
    style        = "margin-bottom:5px;">
    <div class="portlet-title">
      <h4><span>Revisions</span></h4>
    </div>
    <div
      style = "padding:0;"
      class = "portlet-body">
      <table class="table table-striped table-bordered table-advance condensed-data-table">
         <thead>
            <tr>

               <th>Owner</th>
               <th>Date</th>
               <th></th>

            </tr>
         </thead>
         <tbody>


            <tr data-ng-repeat="value in resourcePool['<%= templateUid %>'].revisions | toArray | filter:{finalized:true}">

              <td>
                {{resourcePool[value.employeeUid].firstName + ' ' + resourcePool[value.employeeUid].lastName}}
              </td>
              <td>
                {{value.createdAt | toArray | date:'short' }}
              </td>

              <td>
                <div style="text-align:right;" class="inline-content">
                  <a
                    class           = "btn mini purple"
                    popover         = "This is the change summary of the exercise."
                    popover-trigger = "mouseenter">Change Summary</a>

                  <a
                    data-ng-class = "{true:'black', false:'blue'}[viewModel.routeParams.revisionUid == value.uid]"
                    href          = "#{{viewRoot}}/{{value.templateUid}}/{{value.uid}}"
                    class         = "btn mini">

                    <span data-ng-show = "value.finalized">View</span>
                    <span data-ng-show = "!value.finalized">Edit</span>
                    &nbsp;
                    <i
                      data-ng-hide = "viewModel.routeParams.revisionUid == value.uid"
                      style        = "width:11px;"
                      class        = "halflings-icon white chevron-left"></i>
                    <i
                      data-ng-show = "viewModel.routeParams.revisionUid == value.uid"
                      style        = "width:11px;"
                      class        = "halflings-icon white chevron-right"></i>
                  </a>

                </div>
              </td>

            </tr>

         </tbody>
      </table>
    </div><!-- portlet-body -->
  </div><!-- porlet.box -->

</div>
